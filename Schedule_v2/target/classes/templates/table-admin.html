<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>ADMIN PAGE</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <style>table {
        font-family: "Lucida Sans Unicode", "Lucida Grande", Sans-Serif;
        font-size: 12px;
        border-radius: 3px;
        border-spacing: 0;
        text-align: center;
        table-layout: auto;
    }

    th {
        background: #BCEBDD;
        color: white;
        text-shadow: 0 1px 1px #2D2020;
        padding: 3px 6px;
    }

    th, td {
        border-style: solid;
        border-width: 0 1px 1px 0;
        border-color: white;
    }

    th:first-child, td:first-child {
        text-align: left;
    }

    th:first-child {
        border-top-left-radius: 4px;
    }

    th:last-child {
        border-top-right-radius: 4px;
        border-right: none;
    }

    td {
        padding: 3px 6px;
        background: #F8E391;
    }

    tr:last-child td:first-child {
        border-radius: 0 0 0 3px;
    }

    tr:last-child td:last-child {
        border-radius: 0 0 3px 0;
    }

    tr td:last-child {
        border-right: none;
    }</style>
</head>
<body>
<form th:action="@{/logaut}" method="post">
    <input type="submit" value="Sign Out"/>
</form>
<table>
    <thead>
    <tr>
        <!--
                <th>id</th>
        -->
        <th>Факультет</th>
        <th>Специальность</th>
        <th>Группа</th>
        <th>Дата</th>
        <th>Время</th>
        <th>Предмет</th>
        <th>Преподователь</th>
        <th>Аудитория</th>
        <th>Тип занятия</th>
    </tr>
    </thead>
    <tbody>
    <tr>
        <form name="search-theme-form" action="#" th:action="@{/admin/add}" id="search-theme-form"
              th:object="${schedule}" method='POST'>
            <!--<td>
                <p>ID</p>
            </td>-->
            <td>
                <select id="dropdown_faculty" th:field="*{facultyName}">
                    <option th:text="${choosenFaculty}" th:value="${choosenFaculty}"></option>
                </select>
            </td>
            <td>
                <select id="dropdown_specialty" th:field="*{specialtyName}">
                    <option th:text="${choosenSpecialty}" th:value="${choosenSpecialty}"></option>
                </select>
            </td>
            <td>
                <select id="dropdown_group" th:field="*{groupName}">
                    <option th:text="${choosenGroup}" th:value="${choosenGroup}"></option>
                </select>
            </td>
            <td>
                <select id="dropdown_date" th:field="*{date}">
                    <option th:text="${choosenDate}" th:value="${choosenDate}"></option>
                </select>
            </td>
            <td>
                <select th:field="*{time}">
                    <option value="">Не выбран</option>
                    <option th:each="time : ${timeAll}"
                            th:value="${time.lessonTimeStart +'--'+time.lessonTimeEnd}"
                            th:utext="${time.lessonTimeStart +'--'+time.lessonTimeEnd}">
                    </option>
                </select>
            </td>
            <td>
                <select th:field="*{subjectName}">
                    <option value="">Не выбран</option>
                    <option th:each="subject : ${subjectAll}"
                            th:value="${subject.subjectName}"
                            th:utext="${subject.subjectName}">
                    </option>
                </select>
            </td>
            <td>
                <select th:field="*{teacherName}">
                    <option value="">Не выбран</option>
                    <option th:each="teacher : ${teacherAll}"
                            th:value="${teacher.teacherName}"
                            th:utext="${teacher.teacherName}">
                    </option>
                </select>
            </td>
            <td>
                <select th:field="*{classroomName}">
                    <option value="">Не выбран</option>
                    <option th:each="classroom : ${classroomAll}"
                            th:value="${classroom.classroomNumber}"
                            th:utext="${classroom.classroomNumber}">
                    </option>
                </select>
            </td>
            <td>
                <select th:field="*{lessonType}">
                    <option value="">Не выбран</option>
                    <option th:each="lessonT : ${lessonTypeAll}"
                            th:value="${lessonT.lessonType}"
                            th:utext="${lessonT.lessonType}">
                    </option>
                </select>
            </td>
            <td><input type="submit" value="Submit"/></td>
        </form>
    </tr>
    <tr th:each="row : ${rows}">
        <td th:text="${row.facultyName}"></td>
        <td th:text="${row.specialtyName}"></td>
        <td th:text="${row.groupName}"></td>
        <td th:text="${row.date}"></td>
        <td th:text="${row.time}"></td>
        <td th:text="${row.subjectName}"></td>
        <td th:text="${row.teacherName}"></td>
        <td th:text="${row.classroomName}"></td>
        <td th:text="${row.lessonType}"></td>
        <td>
            <form th:action="@{__${#httpServletRequest.requestURI}__/delete}" method="post">
                <input type="hidden" name="id" th:value="${row.id}"/>
                <input type="submit" value="Delete" class="btn btn-danger"/>
            </form>
            <!--<a th:href="@{/delete/{id}(id=${row.id})}">delete</a>-->
        </td>
        <td>
            <form th:action="@{__${#httpServletRequest.requestURI}__/edit}" method="get">
                <input type="hidden" name="id" th:value="${row.id}"/>
                <input type="submit" value="Edit" class="btn btn-danger"/>
            </form>
        </td>
    </tr>
    </tbody>
</table>
<script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script>
<script type="text/javascript">
    function url() {
        var value1 = $("#dropdown_faculty").val();
        var value2 = $("#dropdown_specialty").val();
        var value3 = $("#dropdown_group").val();
        var value4 = $("#dropdown_data").val();
        var link = '/admin/' + value1 + '/' + value2 + '/' + value3 + '/' + value4 + '/' + 'add';
        document.getElementById("search-theme-form").action = link;
    }
</script>
</body>
</html>