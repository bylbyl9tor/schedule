<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>ADMIN PAGE</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <style type="text/css">
        TABLE {
            width: 300px;
            border-collapse: collapse;
        }

        TD, TH {
            padding: 3px;
            border: 1px solid black;
        }

        TH {
            background: #b0e0e6;
        }

        /*убрать эту хуету в сss*/
    </style>
</head>
<body>
<form th:action="@{/logout}" method="post">
    <input type="submit" value="Sign Out"/>
</form>
<!--<a th:href="@{/addRow/${facultyName1}">add</a>-->

<table>
    <thead>
    <tr>
        <th>id</th>
        <th>Факультет</th>
        <th>Специальность</th>
        <th>Группа</th>
        <th>Дата</th>
        <th>Время</th>
        <th>Предмет</th>
        <th>Преподователь</th>
        <th>Аудитория</th>
        <th>Тип занятия</th>
    </tr>
    </thead>
    <tbody>
    <tr>
        <form name="search-theme-form" action="#" th:action="@{/admin/add}"  id="search-theme-form"  th:object="${schedule}" method='POST'>
            <td>
                <p>ID</p>
            </td>
            <td>
                <select id="dropdown_faculty" th:field="*{facultyName}">
                    <option th:text="${choosenFaculty}" th:value="${choosenFaculty}"></option>
                </select>
            </td>
            <td>
                <select id="dropdown_specialty" th:field="*{specialtyName}">
                    <option th:text="${choosenSpecialty}" th:value="${choosenSpecialty}"></option>
                </select>
            </td>
            <td>
                <select id="dropdown_group" th:field="*{groupName}">
                    <option th:text="${choosenGroup}" th:value="${choosenGroup}"></option>
                </select>
            </td>
            <td>
                <select id="dropdown_date" th:field="*{date}">
                    <option th:text="${choosenDate}" th:value="${choosenDate}"></option>
                </select>
            </td>
            <td>
                <select th:field="*{time}">
                    <option value="">Не выбран</option>
                    <option th:each="time : ${timeAll}"
                            th:value="${time.lessonTimeStart +'--'+time.lessonTimeEnd}"
                            th:utext="${time.lessonTimeStart +'--'+time.lessonTimeEnd}">
                    </option>
                </select>
            </td>
            <td>
                <select th:field="*{subjectName}">
                    <option value="">Не выбран</option>
                    <option th:each="subject : ${subjectAll}"
                            th:value="${subject.subjectName}"
                            th:utext="${subject.subjectName}">
                    </option>
                </select>
            </td>
            <td>
                <select th:field="*{teacherName}">
                    <option value="">Не выбран</option>
                    <option th:each="teacher : ${teacherAll}"
                            th:value="${teacher.teacherName}"
                            th:utext="${teacher.teacherName}">
                    </option>
                </select>
            </td>
            <td>
                <select th:field="*{classroomName}">
                    <option value="">Не выбран</option>
                    <option th:each="classroom : ${classroomAll}"
                            th:value="${classroom.classroomNumber}"
                            th:utext="${classroom.classroomNumber}">
                    </option>
                </select>
            </td>
            <td>
                <select th:field="*{lessonType}">
                    <option value="">Не выбран</option>
                    <option th:each="lessonT : ${lessonTypeAll}"
                            th:value="${lessonT.lessonType}"
                            th:utext="${lessonT.lessonType}">
                    </option>
                </select>
            </td>
            <td> <input type="submit" value="Submit"/></td>
        </form>
    </tr>
    <tr th:each="row : ${rows}">
        <td th:text="${row.id}"></td>
        <td th:text="${row.facultyName}"></td>
        <td th:text="${row.specialtyName}"></td>
        <td th:text="${row.groupName}"></td>
        <td th:text="${row.date}"></td>
        <td th:text="${row.time}"></td>
        <td th:text="${row.subjectName}"></td>
        <td th:text="${row.teacherName}"></td>
        <td th:text="${row.classroomName}"></td>
        <td th:text="${row.lessonType}"></td>
        <td>
            <form th:action="@{__${#httpServletRequest.requestURI}__/delete}" method="post">
                <input type="hidden" name="id" th:value="${row.id}" />
                <input type="submit" value="Delete" class="btn btn-danger" />
            </form>
            <!--<a th:href="@{/delete/{id}(id=${row.id})}">delete</a>-->
        </td>
        <td>
            <a th:href="@{/edit/{id}(id=${row.id})}">edit</a>
        </td>
    </tr>
    </tbody>
</table>
<script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script>
<script type="text/javascript">
    function url() {
        var value1 = $("#dropdown_faculty").val();
        var value2 = $("#dropdown_specialty").val();
        var value3 = $("#dropdown_group").val();
        var link ='/admin/'+value1+'/'+value2+'/'+value3+'/'+'add';
        document.getElementById("search-theme-form").action = link;    }
</script>
</body>
</html>